<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EZ Note Generator</title>

<style>
body {
  font-family: Arial, sans-serif;
  max-width: 980px;
  margin: auto;
  padding: 20px;
}

h1 {
  text-align: center;
  font-size: 30px;
  margin-bottom: 16px;
}

.tabs {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 24px;
}

.tabs button {
  padding: 8px 14px;
  border-radius: 6px;
  border: 1px solid #ccc;
  background: #f2f2f2;
  cursor: pointer;
}

.tabs button.active {
  background: #2563eb;
  color: #fff;
}

.section {
  display: none;
}
.section.active {
  display: block;
}

label {
  font-weight: bold;
  margin-top: 14px;
  display: block;
}

input, select, textarea {
  width: 100%;
  padding: 7px;
  margin-top: 6px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
}

textarea {
  min-height: 90px;
}

.row {
  display: flex;
  gap: 12px;
}

.radio-group {
  display: flex;
  gap: 18px;
  margin-top: 6px;
}

.yes { color: green; font-weight: bold; }
.no { color: red; font-weight: bold; }

.config-row {
  display: flex;
  gap: 8px;
  align-items: center;
  margin-top: 8px;
}

.config-row input { flex: 1; }
.config-row select { width: 130px; }

.remove {
  border: none;
  background: #eee;
  border-radius: 50%;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.actions {
  display: flex;
  gap: 10px;
  margin-top: 18px;
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.insurance-item {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 6px 0;
}
</style>
</head>

<body>

<h1>EZ Note Generator</h1>

<div class="tabs">
  <button class="active" onclick="switchTab('integration')">Integration Note</button>
  <button onclick="switchTab('calendar')">Calendar / Resync</button>
  <button onclick="switchTab('onboarding')">Onboarding Notes</button>
</div>

<!-- ================= INTEGRATION ================= -->
<div id="integration" class="section active">

<label>Practice Name</label>
<input id="practiceName" placeholder="Used for file name only">

<label>Integration Type</label>
<select id="integrationType">
  <option value="">Select</option>
  <option>Opencare Sync</option>
  <option>NexHealth API</option>
  <option>Sikka API</option>
  <option>Carestack API</option>
  <option>Denticon API</option>
  <option>Opendental API</option>
</select>

<label>Contact Info</label>
<div class="row">
  <input id="contactName" placeholder="Contact Name">
  <input id="phone" placeholder="Phone Number">
</div>

<label>Calendar Sync Configured</label>
<div class="radio-group">
  <label><input type="radio" name="calendar" value="Yes"> <span class="yes">âœ” Yes</span></label>
  <label><input type="radio" name="calendar" value="No"> <span class="no">âœ– No</span></label>
</div>

<label>Configs / Operatory Setup</label>
<div id="configs"></div>
<button onclick="addConfig()">âž• Add Operatory</button>

<label style="margin-top:16px;">Blocker</label>
<textarea id="blocker" placeholder="â€¢ NA"></textarea>

<label style="margin-top:20px;">Setup Summary</label>
<textarea id="summary" placeholder="â€¢ NA"></textarea>

<div class="actions">
  <button id="copyIntegration" disabled onclick="copyIntegration()">ðŸ“‹ Copy to Clipboard</button>
  <button id="saveIntegration" disabled onclick="saveIntegration()">ðŸ’¾ Save to File</button>
</div>
</div>

<!-- ================= CALENDAR ================= -->
<div id="calendar" class="section">
  <p style="text-align:center;color:#777;">Coming soon</p>
</div>

<!-- ================= ONBOARDING ================= -->
<div id="onboarding" class="section">

<label>Main Contact Name</label>
<input id="obName">

<label>Phone Number</label>
<input id="obPhone">

<label>Sentiment</label>
<input id="obSentiment">

<label>Tech Ability</label>
<input id="obTech">

<label>Insurances Added</label>
<div class="insurance-item">â€¢ Aetna Dental PPO <input type="radio" name="aetna"> Yes <input type="radio" name="aetna"> No</div>
<div class="insurance-item">â€¢ Cigna Dental PPO <input type="radio" name="cigna"> Yes <input type="radio" name="cigna"> No</div>
<div class="insurance-item">â€¢ Delta Dental PPO <input type="radio" name="delta"> Yes <input type="radio" name="delta"> No</div>

<label>Meeting Context Notes + Remaining Actions</label>
<textarea id="obMeeting">â€¢ Made sure provider info is updated
â€¢ Confirmed insurance setup
â€¢ Reviewed notifications
â€¢ Completed integration after training</textarea>

<div class="actions">
  <button id="copyOnboarding" disabled onclick="copyOnboarding()">ðŸ“‹ Copy</button>
  <button id="saveOnboarding" disabled onclick="saveOnboarding()">ðŸ’¾ Save</button>
</div>
</div>

<script>
function switchTab(tab) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.tabs button').forEach(b => b.classList.remove('active'));
  document.getElementById(tab).classList.add('active');
  event.target.classList.add('active');
  validate();
}

function addConfig() {
  const row = document.createElement('div');
  row.className = 'config-row';
  row.innerHTML = `
    <input placeholder="Operatory">
    <select>
      ${[5,10,15,20,25,30,45,60,90,120].map(m=>`<option>${m} mins</option>`).join('')}
    </select>
    <select onchange="handleSequential(this)">
      <option>Any Room</option>
      <option>All Rooms</option>
      <option>Sequential</option>
    </select>
    <button class="remove" onclick="this.parentElement.remove();validate()">âœ–</button>
  `;
  document.getElementById('configs').appendChild(row);
  validate();
}

function handleSequential(sel) {
  const rows = document.querySelectorAll('.config-row');
  if (sel.value === "Sequential" && sel.parentElement === rows[rows.length - 1]) {
    addConfig();
  }
}

function copyIntegration() {
  let text = `Integration Type: ${integrationType.value}\n\nConfigs / Operatory Setup:\n`;
  const rows = document.querySelectorAll('.config-row');
  rows.forEach((r,i)=>{
    const op = r.children[0].value;
    const dur = r.children[1].value;
    const strat = r.children[2].value;
    if(strat==="Sequential" && rows[i+1]){
      text += `â€¢ ${op} | ${dur} To ${rows[i+1].children[0].value} | ${rows[i+1].children[1].value} Sequential Room\n`;
    } else {
      text += `â€¢ ${op} | ${dur} ${strat}\n`;
    }
  });
  text += `\nBlocker:\n${blocker.value}\n\nSetup Summary:\n${summary.value}`;
  navigator.clipboard.writeText(text);
  alert("Copied!");
}

function saveIntegration() {
  const blob = new Blob([summary.value], {type:'text/plain'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = practiceName.value || "IntegrationNotes";
  a.click();
}

function copyOnboarding() {
  navigator.clipboard.writeText(obMeeting.value);
  alert("Copied!");
}

function saveOnboarding() {
  const blob = new Blob([obMeeting.value], {type:'text/plain'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = "OnboardingNotes";
  a.click();
}

function validate() {
  copyIntegration.disabled = !integrationType.value;
  saveIntegration.disabled = !practiceName.value;
  copyOnboarding.disabled = !obName.value;
  saveOnboarding.disabled = !obName.value;
}
</script>

</body>
</html>
